import{a as p,S as E,i as L}from"./assets/vendor-b11e2a50.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const b="23963114-6d0d5d874ae460d9125bacd21",I="https://pixabay.com/api/";async function m(e,o=1){const s=`${I}?key=${b}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${o}`;return(await p.get(s)).data}let a;function w(){const e=document.getElementById("gallery");e&&(e.innerHTML=""),a&&(a.destroy(),a=null)}function f(e){const o=document.getElementById("gallery");if(o){const s=document.createDocumentFragment();e.forEach(r=>{const t=document.createElement("a");t.href=r.largeImageURL,t.innerHTML=`<img src="${r.webformatURL}" alt="${r.tags}" title="${r.tags}"/>
    <div class="image-stats">
    <p>Likes: ${r.likes}</p>
    <p>Views: ${r.views}</p>
    <p>Comments: ${r.comments}</p>
    <p>Downloads: ${r.downloads}</p>
  </div>`,s.appendChild(t)}),o.appendChild(s),a?a.refresh():a=new E(".gallery a")}}function g(){const e=document.getElementById("loader");e&&(e.style.display="block")}function y(){const e=document.getElementById("loader");e&&(e.style.display="none")}function i(e){L.error({title:"Error",message:e,position:"topRight"})}function u(e){const o=document.getElementById("load-more-container");o&&(o.style.display=e?"block":"none")}function B(){h();const e=document.createElement("p");e.textContent="We're sorry, but you've reached the end of search results.",e.id="end-of-results-message",document.body.appendChild(e)}function h(){const e=document.getElementById("end-of-results-message");e&&e.remove()}let l=1,c="";const v=document.getElementById("search-form"),$=document.getElementById("load-more-button"),C=document.getElementById("load-more-container");v.addEventListener("submit",async e=>{if(e.preventDefault(),c=document.getElementById("search-input").value.trim(),!c){i("Please enter a search term");return}l=1,w(),h(),u(!1),g();try{const o=await m(c,l);o.hits.length===0?i("Sorry, there are no images matching your search query. Please try again!"):(f(o.hits),u(o.hits.length===15),C.style.display="block")}catch(o){i("Failed to fetch images. Please try again later."),console.error("Error fetching images:",o)}finally{y()}});$.addEventListener("click",async()=>{l+=1,g();try{const e=await m(c,l);if(f(e.hits),e.hits.length<15||l*15>=e.totalHits)u(!1),B();else{const s=document.querySelector(".gallery").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:s*2,behavior:"smooth"})}}catch(e){i("Failed to fetch images. Please try again later."),console.error("Error fetching images:",e)}finally{y()}});
//# sourceMappingURL=commonHelpers.js.map
