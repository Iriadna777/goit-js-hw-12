import{a as g,S as h,i as p}from"./assets/vendor-b11e2a50.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const E="23963114-6d0d5d874ae460d9125bacd21",b="https://pixabay.com/api/";async function u(e,o=1){const n=`${b}?key=${E}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true`;return(await g.get(n)).data}function L(){const e=document.getElementById("gallery");e&&(e.innerHTML="")}function m(e){const o=document.getElementById("gallery");if(o){const n=document.createDocumentFragment();e.forEach(t=>{const r=document.createElement("a");r.href=t.largeImageURL,r.innerHTML=`<img src="${t.webformatURL}" alt="${t.tags}" title="${t.tags}"/>
    <div class="image-stats">
    <p>Likes: ${t.likes}</p>
    <p>Views: ${t.views}</p>
    <p>Comments: ${t.comments}</p>
    <p>Downloads: ${t.downloads}</p>
  </div>`,n.appendChild(r)}),o.appendChild(n),new h(".gallery a").refresh()}}function f(){const e=document.getElementById("loader");e&&(e.style.display="block")}function y(){const e=document.getElementById("loader");e&&(e.style.display="none")}function i(e){p.error({title:"Error",message:e,position:"topRight"})}function d(e){const o=document.getElementById("load-more-container");o&&(o.style.display=e?"block":"none")}function w(){const e=document.createElement("p");e.textContent="We're sorry, but you've reached the end of search results.",document.body.appendChild(e)}let s=1,l="";const I=document.getElementById("search-form"),B=document.getElementById("load-more-button"),v=document.getElementById("load-more-container");I.addEventListener("submit",async e=>{if(e.preventDefault(),l=document.getElementById("search-input").value.trim(),!l){i("Please enter a search term");return}s=1,L(),d(!1),f();try{const o=await u(l,s);o.hits.length===0?i("Sorry, there are no images matching your search query. Please try again!"):(m(o.hits),d(o.hits.length===15),v.style.display="block")}catch(o){i("Failed to fetch images. Please try again later."),console.error("Error fetching images:",o)}finally{y()}});B.addEventListener("click",async()=>{s+=1,f();try{const e=await u(l,s);m(e.hits),e.hits.length<15||s*15>=e.totalHits?(d(!1),w()):window.scrollBy({top:document.querySelector(".gallery a").getBoundingClientRect().height*2,behavior:"smooth"})}catch(e){i("Failed to fetch images. Please try again later."),console.error("Error fetching images:",e)}finally{y()}});
//# sourceMappingURL=commonHelpers.js.map
