import{a as h,S as p,i as E}from"./assets/vendor-b11e2a50.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const b="23963114-6d0d5d874ae460d9125bacd21",L="https://pixabay.com/api/";async function u(e,o=1){const n=`${L}?key=${b}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true`;return(await h.get(n)).data}function I(){const e=document.getElementById("gallery");e&&(e.innerHTML="")}function m(e){const o=document.getElementById("gallery");if(o){const n=document.createDocumentFragment();e.forEach(t=>{const r=document.createElement("a");r.href=t.largeImageURL,r.innerHTML=`<img src="${t.webformatURL}" alt="${t.tags}" title="${t.tags}"/>
    <div class="image-stats">
    <p>Likes: ${t.likes}</p>
    <p>Views: ${t.views}</p>
    <p>Comments: ${t.comments}</p>
    <p>Downloads: ${t.downloads}</p>
  </div>`,n.appendChild(r)}),o.appendChild(n),new p(".gallery a").refresh()}}function f(){const e=document.getElementById("loader");e&&(e.style.display="block")}function g(){const e=document.getElementById("loader");e&&(e.style.display="none")}function l(e){E.error({title:"Error",message:e,position:"topRight"})}function d(e){const o=document.getElementById("load-more-container");o&&(o.style.display=e?"block":"none")}function w(){y();const e=document.createElement("p");e.textContent="We're sorry, but you've reached the end of search results.",e.id="end-of-results-message",document.body.appendChild(e)}function y(){const e=document.getElementById("end-of-results-message");e&&e.remove()}let s=1,i="";const B=document.getElementById("search-form"),v=document.getElementById("load-more-button"),M=document.getElementById("load-more-container");B.addEventListener("submit",async e=>{if(e.preventDefault(),i=document.getElementById("search-input").value.trim(),!i){l("Please enter a search term");return}s=1,I(),y(),d(!1),f();try{const o=await u(i,s);o.hits.length===0?l("Sorry, there are no images matching your search query. Please try again!"):(m(o.hits),d(o.hits.length===15),M.style.display="block")}catch(o){l("Failed to fetch images. Please try again later."),console.error("Error fetching images:",o)}finally{g()}});v.addEventListener("click",async()=>{s+=1,f();try{const e=await u(i,s);m(e.hits),e.hits.length<15||s*15>=e.totalHits?(d(!1),w()):window.scrollBy({top:document.querySelector(".gallery").getBoundingClientRect().height,behavior:"smooth"})}catch(e){l("Failed to fetch images. Please try again later."),console.error("Error fetching images:",e)}finally{g()}});
//# sourceMappingURL=commonHelpers.js.map
